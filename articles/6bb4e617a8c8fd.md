---
title: "éŠ€è¡Œãƒ»ã‚«ãƒ¼ãƒ‰ã¨é€£æºã•ã‚ŒãŸå®¶è¨ˆç°¿ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ãŸ"
emoji: "ğŸ˜½"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Next", "React", "tailwind", "shadcnui","chartjs","TypeScript"]
published: false
---

# 1. æ¦‚è¦
å…ˆæ—¥ã“ã®ã‚ˆã†ãªå‹•ç”»ãŒå…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€ã‚„ã£ã¦ã¿ãŸããªã£ãŸã®ã§è¨˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚

<!-- https://youtu.be/PuOVqP_cjkE?si=f_aWBvqHh08VhICE -->

https://github.com/adrianhajdin/banking/tree/main

# 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹

## 2.1. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹
   `jsm_banking`ã¨ã„ã†åå‰ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ãã¾ã™ã€‚

## 2.2. chadcn/uiã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

### 2.2.1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹
  https://ui.shadcn.com/docs/installation/next

  ä¸Šè¨˜ã®ãƒªãƒ³ã‚¯å…ˆã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å©ã„ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã“ã§ã€`my-app`ã¨ã‚ã‚‹éƒ¨åˆ†ã¯ä»Šå›`./`ã¨ã—ã¾ã™ã€‚ã“ã‚Œã§ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ã€‚
  ```:terminal
  npx create-next-app@latest ./ --typescript --tailwind --eslint
  ```
  `src/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ã†ã‹ã€`App Router`ã‚’ä½¿ã†ã‹ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’ä½¿ã†ã‹ã€ã¨å°‹ã­ã‚‰ã‚Œã‚‹ã®ã§ãã‚Œãã‚Œ`No`, `Yes`, `NO`ã¨å›ç­”ã—ã€`Success!`ã¨å‡ºã‚Œã°å®Œäº†ã§ã™ã€‚

  ```:terminal
  âœ” Would you like to use `src/` directory? â€¦ No
  âœ” Would you like to use App Router? (recommended) â€¦ Yes
  âœ” Would you like to customize the default import alias (@/*)? â€¦ No
  ~~~~~~
  ~~~~~~
  Success!
  ```

### 2.2.2. CLIã‚’å®Ÿè¡Œã™ã‚‹
  æ¬¡ã«initã‚³ãƒãƒ³ãƒ‰ã§CLIã‹ã‚‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚
  ```:terminal
  npx shadcn-ui@latest init
  ```
  ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒ™ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼ã€CSS variablesã¯ã©ã†ã™ã‚‹ã‹ã¨èã‹ã‚Œã‚‹ã®ã§`Default`, `Slate`, `yes`ã¨å›ç­”ã—ã€å…ˆã»ã©ã¨åŒæ§˜ã«`Success!`ã¨å‡ºã‚Œã°å®Œäº†ã§ã™ã€‚
  ```:terminal
  âœ” Which style would you like to use? â€º Default
  âœ” Which color would you like to use as base color? â€º Slate
  âœ” Would you like to use CSS variables for colors? â€¦ yes
  ~~~~~~
  ~~~~~~
  Success!
  ```

### 2.2.3. Buttonã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚‹
  ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
  `components/ui`ã«`button.tsx`ãŒä½œæˆã•ã‚Œã¦ã„ã‚Œã°å®Œäº†ã§ã™ã€‚
  ```:terminal
  npx shadcn-ui@latest add button
  ~~~~~~
  ~~~~~~
  âœ” Done.
  ```

## 2.3. ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã€ã‚¢ã‚»ãƒƒãƒˆã‚’è¿½åŠ ã™ã‚‹
  ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‰Šé™¤ã—ã¾ã™ã€‚
  - `app/favicon.ico`
  - `lib`
  - `public`
  - `tailwind.config.ts`

  æ¬¡ã«ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰zipãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹`assets`ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¾Œè§£å‡ã—ã€ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã—ã¾ã™ã€‚

  https://drive.google.com/file/d/1TVhdnD97LajGsyaiNa6sDs-ap-z1oerA/view?usp=sharing

  ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç§»å‹•ã—ã€æœ€å¾Œã«`assets`ã¯å‰Šé™¤ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ä¸€æ‹¬æ“ä½œã§ãã¾ã™ã€‚
  ```:terminal
  mv assets/app/globals.css app/globals.css
  mv assets/constants constants  
  mv assets/lib lib            
  mv assets/public public
  mv assets/types types  
  mv assets/tailwind.config.ts tailwind.config.ts
  rm -rf assets
  ```

  ### 2.3.1. tailwind.config.ts
  ã“ã“ã§ã¯ä¸»ã«`color`ãŒè¿½åŠ ã•ã‚Œã¦ãŠã‚Šã€ã“ã‚Œã«ã‚ˆã‚Šä¾‹ãˆã°ãƒ†ã‚­ã‚¹ãƒˆã®ã‚«ãƒ©ãƒ¼ã‚’æŒ‡å®šã™ã‚‹éš›ã«`text-[#d1fadf]`ã§ã¯ãªã`text-success-100`ã§æŒ‡å®šã§ãã‚‹ã®ã§ã‚ˆã‚Šã‚³ãƒ¼ãƒ‰ãŒç›´æ„Ÿçš„ãªã‚‚ã®ã«ã‚ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã™ã€‚
  ```:tailwind.confg.ts
   extend: {
      colors: {
        fill: {
          1: "rgba(255, 255, 255, 0.10)",
        },
        bankGradient: "#0179FE",
        indigo: {
          500: "#6172F3",
          700: "#3538CD",
        },
        success: {
          25: "#F6FEF9",
          50: "#ECFDF3",
          100: "#D1FADF",
          600: "#039855",
          700: "#027A48",
          900: "#054F31",
        },
        ~~~~~~
        ~~~~~~
      }
   }
  ```

### 2.3.2. types/index.d.ts
  ã“ã“ã§ã¯ä»Šå›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã®å‹ãŒè¤‡æ•°ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚
  ```:index.d.ts
  declare type SignUpParams = {
    firstName: string;
    lastName: string;
    address1: string;
    city: string;
    state: string;
    postalCode: string;
    dateOfBirth: string;
    ssn: string;
    email: string;
    password: string;
};
  ```

### 2.3.3. public/icons
  åå‰ã®é€šã‚Šä½¿ç”¨ã™ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ãŒãŸãã•ã‚“å…¥ã£ã¦ã„ã¾ã™ã€‚

### 2.3.4. lib/utils.ts
  æ—¥ä»˜ã€é‡‘é¡ã€æ–‡å­—åˆ—ç­‰ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æ•´ãˆã‚‹ãŸã‚ã®ã„ã‚ã‚“ãªé–¢æ•°ãŒå…¥ã£ã¦ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã€‚chatGPTä½¿ã£ã¦ç”Ÿæˆã—ãŸã‚‰ã—ã„ã€‚
  ```:utils.ts
  export const formatDateTime = (dateString: Date) => {
    const dateTimeOptions: Intl.DateTimeFormatOptions = {
      weekday: "short", // abbreviated weekday name (e.g., 'Mon')
      month: "short", // abbreviated month name (e.g., 'Oct')
      day: "numeric", // numeric day of the month (e.g., '25')
      hour: "numeric", // numeric hour (e.g., '8')
      minute: "numeric", // numeric minute (e.g., '30')
      hour12: true, // use 12-hour clock (true) or 24-hour clock (false)
    };
    ~~~~~~
    ~~~~~~
  }
  ```

### 2.3.5. constants/index.ts
  ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒªãƒ³ã‚¯ã¨ã‹ã€ã‚¹ã‚¿ã‚¤ãƒ«ã¨ã‹ã«ä½¿ç”¨ã™ã‚‹å®šæ•°ãŒå®£è¨€ã•ã‚Œã¦ã„ã‚‹ã€‚
  ```:index.ts
  export const sidebarLinks = [
  {
    imgURL: "/icons/home.svg",
    route: "/",
    label: "Home",
  },
  {
    imgURL: "/icons/dollar-circle.svg",
    route: "/my-banks",
    label: "My Banks",
  },
  {
    imgURL: "/icons/transaction.svg",
    route: "/transaction-history",
    label: "Transaction History",
  },
  {
    imgURL: "/icons/money-send.svg",
    route: "/payment-transfer",
    label: "Transfer Funds",
  },
];
~~~~~~
~~~~~~
  ```

### 2.3.6. app/globals.css
  taliwindã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®éè¡¨ç¤ºã‚„è‰²ã€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚ˆã†ãªé »å‡ºã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç°¡å˜ã«ã‚ã¦ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã•ã‚Œã¦ã„ã‚‹ã¿ãŸã„ã§ã™ã€‚
  ```:globals.css
  ~~~~~~
  ~~~~~~
  @layer utilities {
    .input-class {
      @apply text-16 placeholder:text-16 rounded-lg border border-gray-300 text-gray-900 placeholder:text-gray-500;
    }

    .sheet-content button {
      @apply focus:ring-0 focus-visible:ring-transparent focus:ring-offset-0 focus-visible:ring-offset-0 focus-visible:outline-none focus-visible:border-none !important;
    }
    ~~~~~~
    ~~~~~~
  }
  ~~~~~~
  ~~~~~~
  ```

## 2.4. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿®æ­£ã™ã‚‹
  è¿½åŠ ã§åˆ¥ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã€`title`, `description`, `icons`ã‚’è¿½åŠ ã—ã€`className`ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
  ```diff tsx:layout.tsx
  import type { Metadata } from "next";
  - import { Inter } from "next/font/google";
  + import { Inter, IBM_Plex_Serif } from "next/font/google";
  import "./globals.css";

  - const inter = Inter({ subsets: ["latin"] });
  + const inter = Inter({ subsets: ["latin"], variable: '--font-inter' });
  + const ibmPlexSerif = IBM_Plex_Serif({
  +   subsets: ["latin"],
  +   weight: ['400', '700'],
  +   variable: '--font-ibm-plex-serif'
  + });

  export const metadata: Metadata = {
  -   title: "Create Next App",
  -   description: "Generated by create next app",
  +   title: "Horizon",
  +   description: "Horizon is a modern banking platform for everyone.",
  +   icons: {
  +     icon: '/icons/logo.svg'
  +   }
  };

  export default function RootLayout({
    children,
  }: Readonly<{
    children: React.ReactNode;
  }>) {
    return (
      <html lang="en">
  -       <body className={inter.className}>{children}</body>
  +             <body className={`${inter.variable} ${ibmPlexSerif.variable}`}>{children}</body>
      </html>
    );
  }
  ```
  ã“ã‚Œã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯çµ‚ã‚ã‚Šã§ã™ã€‚



# 3. ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

## 3.1. (root)

  ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§`app/page.tsx`ã‚’å‰Šé™¤ã—ã¦`app/(root)/page.tsx`ã¨`app/(root)/layout.tsx`ã‚’ä½œæˆã—ã¾ã™ã€‚
  ã“ã‚Œã§ã“ã®rootã‚°ãƒ«ãƒ¼ãƒ—ã«ã®ã¿layoutã‚’é©å¿œã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```:terminal
  rm app/page.tsx
  mkdir app/"(root)"
  touch app/"(root)"/page.tsx 
  touch app/"(root)"/layout.tsx 
```

`page.tsx`ã‚’ç°¡å˜ã«æ›¸ã„ã¦ã¿ã¾ã™ã€‚
```typescript:page.tsx
import React from 'react';

const Home = () => {
  return <div>Home</div>;
}

export default Home;
```

`app/(root)/layout.tsx`ã«ä»¥ä¸‹ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚
```typescript:layout.tsx
export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <main>
      SIDEBAR
      {children}
    </main>
  );
}
```

## 3.2. (auth)
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§`app/(auth)/layout.tsx`ç­‰ã®authã«é–¢é€£ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚
```:terminal
  mkdir app/"(auth)"
  mkdir app/"(auth)"/sign-in
  mkdir app/"(auth)"/sign-up
  touch app/"(auth)"/layout.tsx
  touch app/"(auth)"/sign-in/page.tsx
  touch app/"(auth)"/sign-up/page.tsx
```

ãã“ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚
```typescript:layout.tsx
export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <main>
      {children}
    </main>
  );
}
```

```typescript:sign-in/page.tsx
import React from "react";

const SignIn = () => {
  return <div>Sign In</div>;
};

export default SignIn;
```

```typescript:sign-up/page.tsx
import React from "react";

const SignUp = () => {
  return <div>Sign Up</div>;
};

export default SignUp;
```

æœ€ä½é™ã®è¨˜è¿°ã‚’çµ‚ãˆãŸã®ã§ã“ã“ã§ä¸€åº¦`npm run dev`ã‚’å®Ÿè¡Œã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚
ä»¥ä¸‹ã®ç”»åƒã®ã‚ˆã†ã«SIDEBARã¨HomeãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚
ã¾ãŸã€`/sign-in`, `/sign-up`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚åŒæ§˜ã«`Sign In`, `Sign Up`ã®æ–‡å­—ã ã‘ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ›ãƒ¼ãƒ ç”»é¢ã§ã¯ã‚µã‚¤ãƒ‰ãƒãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã€ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã‚„ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã§ã¯è¡¨ç¤ºã•ã‚Œãªã„ã‚ˆã†ãªæ§‹æˆãŒä½œæˆã§ããŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚
http://localhost:3000
![](/images/6bb4e617a8c8fd/2024-05-11-16-08-34.png)
é€šå¸¸ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã™ã‚‹ã¨`/root`ã‚„`/auth`ãŒå¿…è¦ã§ã‚ã‚‹ã¯ãšã§ã™ãŒã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã«`()`ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ä¸è¦ã«ãªã‚Šã¾ã™ã€‚ãã—ã¦ãã®ã‚°ãƒ«ãƒ¼ãƒ—(ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)æ¯ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚„ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

å®Ÿã¯ã“ã“ã¾ã§ãŒã‚‚ã£ã¨ã‚‚é€€å±ˆãªå†…å®¹ã§ã€ã“ã“ã‹ã‚‰ã¯ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚„ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒ¢ãƒ€ãƒ³ãªUIã€ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€chart.jsã‚’ä½¿ç”¨ã—ãŸç°¡å˜ãªã‚°ãƒ©ãƒ•ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚

ãã—ã¦ã“ã®è¾ºã‚Šã§ä¸€åº¦githubã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠãã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚


# 4. Home Page UI

ãƒ›ãƒ¼ãƒ ã‹ã‚‰ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

## 4.1. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
### 4.1.1. HeaderBox
  `(root)/page.tsx`ã‚’ç·¨é›†ã—ã¾ã™ã€‚

```typescript:page.tsx
import React from 'react';

const Home = () => {
  return (
    <section className="home">
    <div className='home-content'>
      <header className='home-header'>
        Welcome, Adrian
      </header>
    </div>
  </section>
  );
}

export default Home;
```
  Tailwind CSSã«ã¯homeã¨ã„ã†ã‚¯ãƒ©ã‚¹ã¯å­˜åœ¨ã—ã¾ã›ã‚“ãŒã€ä»Šå›è¿½åŠ ã—ãŸã‚¢ã‚»ãƒƒãƒˆ(`globals.css`)ã®ä¸­ã«å­˜åœ¨ã—ã¦ã„ã‚‹ã®ã§é©å¿œã•ã‚Œã¾ã™ã€‚
  ã¾ãŸä»Šå›ã¯ã“ã®ã‚ˆã†ãªãƒ˜ãƒƒãƒ€ãƒ¼ã¯è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã«å­˜åœ¨ã™ã‚‹ãŸã‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ã—ã¦ãŠãã¾ã™ã€‚

  `components/HeaderBox.tsx`ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚
  ```typescript:HeaderBox.tsx
import React from "react";

const HeaderBox = () => {
  return <div>Header Box</div>;
};

export default HeaderBox;
  ```

ãã—ã¦ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã¨page.tsxã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```diff typescript:page.tsx
- import React from 'react';
+ import HeaderBox from '@/components/HeaderBox

const Home = () => {
  return (
    <section className="home">
    <div className='home-content'>
      <header className='home-header'>
-         Welcome, Adrian
+         <HeaderBox />
      </header>
    </div>
  </section>
  );
}

export default Home;
```

ã•ã‚‰ã«ãƒšãƒ¼ã‚¸ã«ã‚ˆã£ã¦è¡¨ç¤ºã™ã‚‹å†…å®¹ã¯ç•°ãªã‚‹ãŸã‚å¼•æ•°ã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€ã‚ã„ã•ã¤ã€åå‰ã€ãƒšãƒ¼ã‚¸ã®å†…å®¹ãªã©

ãã‚Œã‚’è¸ã¾ãˆãŸã‚³ãƒ¼ãƒ‰ãŒä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```diff typescript:page.tsx
import HeaderBox from '@/components/HeaderBox

const Home = () => {
+ const loggedIn = { firstName: 'Adrian' }
+ 
  return (
    <section className="home">
    <div className='home-content'>
      <header className='home-header'>
-          <HeaderBox />
+          <HeaderBox 
+             type="greeting"
+             title="Welcome"
+             user={loggedIn?.firstName || 'Guest'}
+             subtext="Access and manage your account and transactions efficiently."
+          />
      </header>
    </div>
  </section>
  );
}

export default Home;
```

`loggedIn`ã«ã¯`firstName`ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä»£å…¥ã•ã‚Œã€ã‚‚ã—ãƒ­ã‚°ã‚¤ãƒ³ã§ãã¦ã„ã‚Œã°ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒãƒ¼ãƒ ã‚’ã€ã§ãã¦ã„ãªã‘ã‚Œã°Guestã¨è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

ãã†ã—ãŸã‚‰æ¬¡ã¯`HeaderBox`ã§å¼•æ•°ã‚’å—ã‘å–ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§`HeaderBox.tsx`ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚

```diff typescript:HeaderBox.tsx
- import React from "react";
- 
- const HeaderBox = () => {
+ const HeaderBox = ({ type = "title", title, subtext, user }: HeaderBoxProps) => {
  return <div>Header Box</div>;
};

export default HeaderBox;
```

ã‚¢ã‚»ãƒƒãƒˆã«å«ã¾ã‚Œã¦ã„ãŸ`types/index.d.ts`ã«`HeaderBoxProps`ãŒå®šç¾©ã•ã‚Œã¦ãŠã‚Šã€ã“ã‚Œã¨å¼•æ•°ã‚’ä¸€è‡´ã•ã›ã¦ã„ã¾ã™ã€‚

::::details HeaderBoxProps
```typescript:inde.d.ts
declare interface HeaderBoxProps {
  type?: "title" | "greeting";
  title: string;
  subtext: string;
  user?: string;
}
```
::::

ãã‚Œã§ã¯å®Ÿè£…ã—ã¾ã™ã€‚
`{type === "greeting" && (...)}`ã¯æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã§ã€typeãŒgreetingã ã£ãŸã‚‰()å†…ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```diff typescript:HeaderBox.tsx
const HeaderBox = ({ type = "title", title, subtext, user }: HeaderBoxProps) => {
-   return <div>Header Box</div>;
+   return (
+     <div className="header-box">
+       <h1 className="header-box-title">
+         {title}
+         {type === "greeting" && (
+           <span className="text-bankGradient">
+             &nbsp;{user}
+           </span>)}
+       </h1>
+       <p className="header-box-subtext">{subtext}</p>
+     </div>
+   )
};

export default HeaderBox;
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ã“ã®ã‚ˆã†ãªè¡¨ç¤ºã«ãªã£ã¦ã„ã¾ã™ã€‚
![](/images/6bb4e617a8c8fd/2024-05-11-18-35-06.png)

ã“ã‚Œã§ãƒ˜ãƒƒãƒ€ãƒ¼ãƒœãƒƒã‚¯ã‚¹ã¯çµ‚ã‚ã‚Šã§ã™ã€‚

### TotalBalanceBox

ã¾ãšã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

```:terminal
touch components/TotalBalanceBox.tsx
```

```typescript:TotalBalanceBox.tsx
import React from "react";

const TotalBalanceBox = () => {
  return <div>Total Balance Box</div>;
};

export default TotalBalanceBox;
```

æ¬¡ã«page.tsxã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é…ç½®ã—ã€å¼•æ•°ã‚‚æ¸¡ã—ã¾ã™ã€‚

```diff typescript:page.tsx
        <header className='home-header'>
          <HeaderBox
            type="greeting"
            title="Welcome"
            user={loggedIn?.firstName || 'Guest'}
            subtext="Access and manage your account and transactions efficiently."
          />

+          <TotalBalanceBox 
+             accounts={[]}
+             totalBanks={1}
+             totalCurrentBalance={1250.35}
+           />
        </header>

```

ã§ã¯TotalBalanceBoxã®å®Ÿè£…ã‚’ã—ã¾ã™ãŒã€å…ˆã«ã„ãã¤ã‹npm installã—ã¦ãŠãã¾ã™ã€‚

```:terminal
npm install query-string
npm install react-countup
```

ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

```typescript:TotalBalanceBox.tsx
import { formatAmount } from "@/lib/utils";
import CountUp from "react-countup";

const TotalBalanceBox = ({
  accounts = [], totalBanks, totalCurrentBalance
}: TotlaBalanceBoxProps) => {
  return (
    <section className="total-balance">
      <div className="total-balance-chart">
        {/* Doughnut chart */}
      </div>

      <div className="flex flex-col gap-6">
        <h2 className="header-2">
          Bank Accounts: {totalBanks}
        </h2>
        <div className="flex flex-col gap-2">
          <p className="tota-balance-label">
            Total Current Balance
          </p>

          <p className="tota-balance-amount flex-center gap-2">
            <CountUp end={100} />
            {formatAmount(totalCurrentBalance)}
          </p>
        </div>
      </div>
    </section>
  )
};

export default TotalBalanceBox;
```
formatAmountã§ã‚¢ãƒ¡ãƒªã‚«ãƒ‰ãƒ«ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚

::::details formatAmount
```typescript:utils.ts
export function formatAmount(amount: number): string {
  const formatter = new Intl.NumberFormat("en-US", {
    style: "currency",
    currency: "USD",
    minimumFractionDigits: 2,
  });

  return formatter.format(amount);
}
```
::::

ã“ã“ã§ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã¯ãšã§ã™ã€‚
```
Unhandled Runtime Error
Error: useRef only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/react-client-hook-in-server-component
```

useRefã‚’ç”¨ã„ã‚‹ã¨ãã¯`use client`ã‚’ã¤ã‘ãªã‘ã‚Œã°ãªã‚‰ãªã„ã‚ˆã†ã§ã™ã€‚
CountUpã®å®Ÿè£…ã‚’è¦‹ã¦ã‚‚useRefã‚’ä½¿ç”¨ã—ã¦ã„ãªã„ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€ã“ã¡ã‚‰ã‹ã‚‰ã¯è¦‹ãˆãªã„éƒ¨åˆ†ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ã™ã€‚
::::details CountUp
```typescript:CountUp.d.ts
import React, { CSSProperties, ReactNode, ComponentPropsWithoutRef } from 'react';
import { CallbackProps, CommonProps, RenderCounterProps } from './types';
export interface CountUpProps extends CommonProps, CallbackProps {
    className?: string;
    redraw?: boolean;
    children?: (props: RenderCounterProps) => ReactNode;
    style?: CSSProperties;
    preserveValue?: boolean;
    containerProps?: ComponentPropsWithoutRef<'span'>;
}
declare const CountUp: React.FC<CountUpProps>;
export default CountUp;
```
::::
ã—ã‹ã—`use client`ã‚’ã¤ã‘ã‚‹ã¨ã‚µãƒ¼ãƒãƒ¼å´ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒè¡Œã‚ã‚Œãªããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚
ã‚ˆã£ã¦**æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹**ã“ã¨ã§è§£æ±ºã—ã¾ã™ã€‚

```diff typescript:TotalBalanceBox.tsx
  <div className="flex flex-col gap-6">
    <h2 className="header-2">
      Bank Accounts: {totalBanks}
    </h2>
    <div className="flex flex-col gap-2">
      <p className="tota-balance-label">
        Total Current Balance
      </p>

      <p className="tota-balance-amount flex-center gap-2">
-         <CountUp end={100} />
-         {formatAmount(totalCurrentBalance)}
+         <AnimatedCounter amount=
+             {totalCurrentBalance} />
      </p>
    </div>
  </div>
```

æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```:terminal
touch components/AnimatedCounter.tsx
```

```ts:AnimatedCounter.tsx
'use client';

import CountUp from 'react-countup';

const AnimatedCounter = ({ amount }: { amount: number }) => {
  return (
    <p className='w-full'>
      <CountUp
        decimals={2}
        decimal=','
        prefix='$'
        end={amount} />
    </p>
  )
};

export default AnimatedCounter;
```

ã‚¨ãƒ©ãƒ¼ã§æŒ‡æ‘˜ã•ã‚ŒãŸé€šã‚Š`use client`ã‚’ç”¨ã„ã¦ã€å°æ•°ç‚¹ç¬¬2ä½ã¾ã§è¡¨ç¤ºã•ã›ã¦ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã«$ã‚‚ä»˜ã‘ã¦ã„ã¾ã™ã€‚

æœ€å¾Œã«ãƒ‰ãƒ¼ãƒŠãƒ„ãƒãƒ£ãƒ¼ãƒˆã§ã™ã€‚

ã¾ãšã¯`npm install chart.js`ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
ä»¥ä¸‹ã®è¨˜äº‹ã‚’è¦‹ã‚‹ã«ã€åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚
https://react-chartjs-2.js.org/
ã¨ã„ã†ã“ã¨ã§`npm install --save chart.js react-chartjs-2`ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

æ¬¡ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
```:terminal
touch components/DoughnutChart.tsx
```

ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
ã²ã¨ã¾ãšã¯dataã‚’ãƒ™ã‚¿æ›¸ãã—ã¦ã„ã¾ã™ã€‚
cutoutã¯ç·šã®å¤ªã•ã€legendã¯å‡¡ä¾‹ã§ã™ã€‚

```ts:DoughnutChart.tsx
"use client";

import { Chart as ChartJS, ArcElement, Tooltip, Legend } from "chart.js";
import { Doughnut } from "react-chartjs-2";

ChartJS.register(ArcElement, Tooltip, Legend);

const DoughnutChart = ({ accounts }: DoughnutChartProps) => {
  const data = {
    datasets: [
      {
        label: "Banks",
        data: [1250, 2500, 3750],
        backgroundColor: ['#0747b6', '#2265d8', '#2f91fa']
      }
    ],
    labels: ['Bank 1', 'Bank 2', 'Bank 3']
  }

  return <Doughnut
    data={data}
    options={{
      cutout: '60%',
      plugins: {
        legend: {
          display: false
        }
      }
    }}
  />
};

export default DoughnutChart;
```

æœ€çµ‚çš„ãªTotalBalanceBox.tsxã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
ã“ã“ã§ã¯`accounts`ã¯ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€ä»Šå¾Œä½¿ã†ã®ã§ãã®ã¾ã¾æ®‹ã—ã¦ãŠãã¾ã™ã€‚

```ts:TotalBalanceBox.tsx
import AnimatedCounter from "./AnimatedCounter";
import DoughnutChart from "./DoughnutChart";

const TotalBalanceBox = ({
  accounts = [], totalBanks, totalCurrentBalance
}: TotlaBalanceBoxProps) => {
  return (
    <section className="total-balance">
      <div className="total-balance-chart">
        <DoughnutChart accounts={accounts} />
      </div>

      <div className="flex flex-col gap-6">
        <h2 className="header-2">
          Bank Accounts: {totalBanks}
        </h2>
        <div className="flex flex-col gap-2">
          <p className="tota-balance-label">
            Total Current Balance
          </p>

          <div className="tota-balance-amount flex-center gap-2">
            <AnimatedCounter amount=
              {totalCurrentBalance} />
          </div>
        </div>
      </div>
    </section>
  )
};

export default TotalBalanceBox;
```

è¡¨ç¤ºã¯ä»¥ä¸‹ã®ç”»åƒã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
æ•°å­—ãŒã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã•ã‚Œã€ãƒãƒ£ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚
ã“ã‚Œã§Home Page UIã¯ä»¥ä¸Šã§ã™ã€‚

![](/images/6bb4e617a8c8fd/2024-05-11-21-16-48.png)

# Sidebars

## Left Sidebar


























